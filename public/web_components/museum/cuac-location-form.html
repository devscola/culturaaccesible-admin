<link rel="import" href="/vendor/polymer/polymer.html">

<dom-module id="cuac-location-form">
    <template>
        <div value="{{anyValue::input}}">
            <div class="form-group">
                <label for="street">Street</label>
                <input class="form-control" name="street" on-blur="updateData" value="{{street::input}}">
            </div>
            <div class="form-group">
                <label for="postal">Postal Code</label>
                <input class="form-control" name="postal" on-blur="updateData" value="{{postal::input}}">
            </div>
            <div class="form-group">
                <label for="city">City</label>
                <input class="form-control" name="city" on-blur="updateData" value="{{city::input}}">
            </div>
            <div class="form-group">
                <label for="region">Region</label>
                <input class="form-control" name="region" on-blur="updateData" value="{{region::input}}">
            </div>
            <div class="form-group">
                <label for="link">Link to Google Maps</label>
                <input class="form-control" name="link" on-blur="updateData" value="{{link::input}}">
            </div>
        </div>
    </template>

    <script>
        Polymer({
            is: 'cuac-location-form',

            properties: {
                anyValue: {type: String, observer: 'validateInfo'},
                street: {type: String},
                postal: {type: String},
                city: {type: String},
                region: {type: String},
                link: {type: String},
                entireLocationContent: {type: Array, value: []},
                locationData: {type: Object, value: {}}
            },

            updateData: function() {
                this.locationData.street = this.street;
                this.locationData.postal = this.postal;
                this.locationData.city = this.city;
                this.locationData.region = this.region;
                this.locationData.link = this.link;
            },

            validateInfo: function() {
                if (this.anyValue !== '') {
                    this.fire('enoughLocation');
                } else {
                    this.fire('notEnoughLocation');
                }
            }
        });
    </script>
</dom-module>
