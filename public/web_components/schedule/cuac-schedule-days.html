<link rel="import" href="/vendor/polymer/polymer.html">

<dom-module id="cuac-schedule-days">
    <template>
        <div class="form-group">
            <span class="input-group">
                <input type="checkbox" name="select-all" on-change="checkAllDays" data-day="allDays" checked="{{checked}}"> Select all
            </span>
            <template is="dom-repeat" items={{week}}>
                <span class="input-group">
                    <input name$="{{item}}" type="checkbox" on-change="updateSelectedDays" checked="{{checked}}"> {{item}}
                </span>
            </template>
        </div>
    </template>

    <script>
        Polymer({
            is: 'cuac-schedule-days',

            properties: {

                selectedDays: {type: Array, value: []},

                week: {type: Array, value: ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN']},

                checked: {type: Boolean, value: false}

            },

            checkAllDays: function() {
                this.selectedDays = this.week;
                this.checked = true;
                this.fire('daySelected', this.selectedDays);
            },

            updateSelectedDays: function(event) {
                if (event.target.checked) {
                    this.selectedDays.push(event.target.name); 
                } else {
                    var index = this.selectedDays.indexOf(event.target.name);
                    this.selectedDays.splice(index, 1);
                }
                this.fire('daySelected', this.selectedDays);
            }

        });
    </script>
</dom-module>
