<link rel="import" href="/vendor/polymer/polymer.html">

<dom-module id="cuac-contact-field">
    <template>
        <template is="dom-repeat" items="{{field.elements}}">
            <input class$="form-control {{name}}" value={{fieldValue::input}}>
        </template>
        <div>
            <button class="add btn btn-default" on-click="addInputClicked">+</button>
        </div>
    </template>

    <script>
        Polymer({
            is: 'cuac-contact-field',

            properties: {
                field: {
                    type: Object
                },

                name: {
                    type: String
                },

                fieldValue: {
                    type: String,
                    observer: 'updateContent'
                }
            },

            updateContent: function() {
                this.field.content = [];
                this.field.content.push(this.fieldValue);
                this.toggleSave();
            },

            toggleSave: function() {
                var buttonActive = this.fieldValue.length > 0;
                this.fire('buttonToggled', buttonActive);
            },

            addInputClicked: function(event) {
                event.preventDefault();

            }
        });
    </script>
</dom-module>
