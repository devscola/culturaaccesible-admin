<link rel="import" href="/vendor/polymer/polymer.html">

<dom-module id="cuac-item-languages">
    <template>
        <style>
            label{
              font-weight: normal;
            }
            .show {
                display: block;
            }

            .hide {
                display: none;
            }
        </style>

            <h2>{{language}}</h2>
            <div class="form-group">
                <label for="name"><strong>Name*</strong></label>
                <input class="form-control" name="language-name" value="{{name::input}}" autofocus></input>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" name="description" value="{{description::input}}"></textarea>
            </div>
            <div class="form-group">
                <label for="video">Video link</label>
                <input class="form-control" name="video" value="{{video::input}}">
            </div>
            <div class="video">
                <video class="img-responsive img-thumbnail" src="{{videoSource}}" alt="video"></video>
            </div>
    </template>

    <script>
        Polymer({
            is: 'cuac-item-languages',

            properties: {
                name: {
                    type: String
                },
                description: {
                    type: String
                },
                video: {
                    type: String,
                    observer: 'previewVideo'
                },
                videoSource: { type: String },
                language: {
                    type: String
                }
            },

            previewVideo: function() {
              this.videoSource = this.video;
            },

            collectData: function() {
                if(this.name != undefined){
                    var iso_code = this.getIsoCode();
                    data = {
                        name: this.name,
                        description: this.description,
                        video: this.video,
                        iso_code: iso_code
                    };
                    return data;
                }
            },

            getIsoCode: function() {
                switch (this.language) {
                    case 'Castellano':
                        return 'es';
                    case 'English':
                        return 'en';
                    case 'Valenci√†':
                        return 'cat';
                }
            }

        });
    </script>
</dom-module>
